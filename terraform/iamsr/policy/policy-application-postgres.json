{
  "Version": "2012-10-17",
  "Statement": [
      {
          "Sid": "AllowRDSActions",
          "Effect": "Allow",
          "Action": [
              "rds:CreateDBInstance",
              "rds:DeleteDBInstance",
              "rds:ModifyDBInstance",
              "rds:DescribeDBInstances",
              "rds:CreateDBSubnetGroup",
              "rds:DeleteDBSubnetGroup",
              "rds:ListTagsForResource",
              "rds:DescribeDBSubnetGroups",
              "rds:AddTagsToResource",
              "rds-db:connect"
          ],
          "Resource": "*"
      },
      {
          "Sid": "AllowEC2Actions",
          "Effect": "Allow",
          "Action": [
              "ec2:CreateSecurityGroup",
              "ec2:DeleteSecurityGroup",
              "ec2:AuthorizeSecurityGroupIngress",
              "ec2:RevokeSecurityGroupIngress",
              "ec2:AuthorizeSecurityGroupEgress",
              "ec2:RevokeSecurityGroupEgress",
              "ec2:DescribeSecurityGroups",
              "ec2:DescribeNetworkInterfaces",
              "ec2:DescribeVpcs",
              "ec2:DescribeSubnets",
              "ec2:CreateTags"
          ],
          "Resource": "*"
      },
      {
          "Sid": "DynamoDBFullAccess",
          "Effect": "Allow",
          "Action": [
              "dynamodb:BatchGetItem",
              "dynamodb:BatchWriteItem",
              "dynamodb:ConditionCheckItem",
              "dynamodb:PutItem",
              "dynamodb:DescribeTable",
              "dynamodb:DeleteItem",
              "dynamodb:GetItem",
              "dynamodb:Scan",
              "dynamodb:Query",
              "dynamodb:UpdateItem",
              "dynamodb:ListTables" 
          ],
          "Resource": "*"
      },
      {
          "Sid": "AllowSecretsManager",
          "Effect": "Allow",
          "Action": [
              "secretsmanager:CreateSecret",
              "secretsmanager:GetSecretValue",
              "secretsmanager:DeleteSecret",
              "secretsmanager:DescribeSecret",
              "secretsmanager:TagResource"
          ],
          "Resource": "*"
      },
      {
          "Sid": "AllowIAMCreateServiceLinkedRoleForRDS",
          "Effect": "Allow",
          "Action": "iam:CreateServiceLinkedRole",
          "Resource": "arn:aws:iam::*:role/aws-service-role/rds.amazonaws.com/AWSServiceRoleForRDS",
          "Condition": {
              "StringLike": {
                  "iam:AWSServiceName": "rds.amazonaws.com"
              }
          }
      }
  ]
}